{"version":3,"sources":["../../src/js/picky.js"],"names":[],"mappings":"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","file":"picky.js","sourcesContent":["// Activate clipboard\nconst clipboard = new Clipboard('.btn-clipboard')\n\n// Load example data\n$('.btn-example').click(() => {\n  $('textarea').val('')\n  $.ajax({\n    url: './assets/dist/data/example-data.json',\n    success: (data) => {\n      $('code').html(data)\n      hljs.highlightBlock($('code')[0])\n    },\n    dataType: 'text'\n  })\n})\n\n// Traverse the object and sift out the selector\n// Courtesy of https://github.com/danjford\nconst searchObj = (searchTerm, object) => {\n  let path = []\n  let foundVal = ''\n  let stopSearch = false\n\n  function search (searchTerm, object) {\n    let pointer\n    for (var key in object) {\n      if (typeof object[key] === 'object') {\n        if (!stopSearch) {\n          pointer = key\n          search(searchTerm, object[key])\n        }\n      } else if (object[key].toString().indexOf(searchTerm) > -1) {\n        pointer = key\n        foundVal = object[key]\n        stopSearch = true\n      }\n      if (stopSearch) break\n    }\n    if (stopSearch) {\n      path.push(isNaN(pointer) ? pointer : `[${pointer}]`)\n    }\n  }\n  search(searchTerm, object)\n  return {\n    value: foundVal,\n    path: path.reverse().join('.').replace(/\\.\\[/g, '[').replace(/\\.$/, '')\n  }\n}\n\n$(document).on('click', '.hljs-string, .hljs-number', function() {\n  // Click highlight\n  $('code *').removeClass('is-selected')\n  $(this).addClass('is-selected')\n\n  // Add 133713371337 to value (for searching, needs to be a number so non-string values don't wet the bed)\n  // Place JSON with 133713371337 in hidden element\n  // Remove 133713371337 from viewable JSON\n  const selected = $(this).text()\n  // If it's a double quoted string, add 133713371337 to the end, inside of the quotes\n  $(this).text(selected.replace(/\"(.*)\"/, '\"$1133713371337\"'))\n  // If it's anything else (e.g. numbers), add 133713371337 to the end of it\n  if (!$(this).text().match(/133713371337/)) {\n    $(this).text(`${selected}133713371337`)\n  }\n  // Move <code> contents to hidden .parse-field div\n  $('.parse-field').text($('code').text())\n  // Remove 133713371337 from the selected text so people don't see what we just did\n  $(this).text( $(this).text().replace(/133713371337/, '') )\n\n  // Find selector and display in disabled input field\n  const foundVal = searchObj('133713371337', $.parseJSON($('.parse-field').text()))\n  $('#picked').val(foundVal.path)\n})\n\n$('textarea').keydown(function(e) {\n  // Allow insertion of tabs - http://stackoverflow.com/a/28483558/175825\n  if (e.which === 9) {\n    e.preventDefault()\n    if (this.value) {\n      const val = this.value\n      const start = this.selectionStart\n      const end = this.selectionEnd\n      const selected = val.substring(start, end)\n      let re, count\n\n      if (e.shiftKey) {\n        re = /^\\t/gm\n        count = -selected.match(re).length\n        this.value = val.substring(0, start) + selected.replace(re, '') + val.substring(end)\n      } else {\n        re = /^/gm\n        count = selected.match(re).length\n        this.value = val.substring(0, start) + selected.replace(re, '\\t') + val.substring(end)\n      }\n      if (start === end) {\n        this.selectionStart = end + count\n      } else {\n        this.selectionStart = start\n      }\n      this.selectionEnd = end + count\n    }\n  }\n})\n\n$('textarea').keyup(function() {\n  // Send textarea code to highlight.js <code> container\n  $('code').html($('textarea').val())\n  hljs.highlightBlock($('code')[0])\n})\n"]}