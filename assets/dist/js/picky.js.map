{"version":3,"sources":["../../src/js/picky.js"],"names":[],"mappings":"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","file":"picky.js","sourcesContent":["// Activate clipboard\nconst clipboard = new Clipboard('.btn-clipboard')\n\n// Load example data\n$('.btn-example').click(() => {\n  $('textarea').val('')\n  $('#picked').val('')\n  $.ajax({\n    url: './assets/dist/data/example-data.json',\n    success: (data) => {\n      $('code').html(data)\n      hljs.highlightBlock($('code')[0])\n    },\n    dataType: 'text'\n  })\n})\n\n// Traverse the object and sift out the selector\n// Courtesy of https://github.com/danjford\nconst searchObj = (searchTerm, object) => {\n  let path = []\n  let foundVal = ''\n  let stopSearch = false\n\n  function search (searchTerm, object) {\n    let pointer\n    for (var key in object) {\n      if (typeof object[key] === 'object') {\n        if (!stopSearch) {\n          pointer = key\n          search(searchTerm, object[key])\n        }\n      } else if (object[key].toString().indexOf(searchTerm.toString()) > -1) {\n        pointer = key\n        foundVal = object[key]\n        stopSearch = true\n      }\n      if (stopSearch) break\n    }\n    if (stopSearch) {\n      path.push(isNaN(pointer) ? pointer : `[${pointer}]`)\n    }\n  }\n  search(searchTerm, object)\n  return {\n    value: foundVal,\n    path: path.reverse().join('.').replace(/\\.\\[/g, '[').replace(/\\.$/, '')\n  }\n}\n\n$(document).on('click', '.hljs-string, .hljs-number', function() {\n  // Click highlight\n  $('code *').removeClass('is-selected')\n  $(this).addClass('is-selected')\n\n  // Find selector and display in disabled input field\n  const foundVal = searchObj($(this).text().replace(/[\\\"]/g, ''), $.parseJSON($('code').text()))\n  $('#picked').val(foundVal.path)\n})\n\nlet resizing = false\n$('.resize').on('mousedown', function() {\n\n  resizing = true\n\n})\n\n$(document).on('mousemove', function(e) {\n\n  if ( !resizing ) {\n    return\n  }\n\n  var offset = ( (e.pageX / document.querySelector('main').clientWidth) * 100)\n  $('textarea').css('width', offset + '%')\n  $('.code-wrap').css('width', (100 - offset) + '%' )\n\n}).on('mouseup', function() {\n\n  resizing = false\n\n})\n\n$('textarea').keydown(function(e) {\n  // Allow insertion of tabs - http://stackoverflow.com/a/28483558/175825\n  if (e.which === 9) {\n    e.preventDefault()\n    if (this.value) {\n      const val = this.value\n      const start = this.selectionStart\n      const end = this.selectionEnd\n      const selected = val.substring(start, end)\n      let re = ''\n      let count = ''\n\n      if (e.shiftKey) {\n        re = /^\\t/gm\n        count = -selected.match(re).length\n        this.value = val.substring(0, start) + selected.replace(re, '') + val.substring(end)\n      } else {\n        re = /^/gm\n        count = selected.match(re).length\n        this.value = val.substring(0, start) + selected.replace(re, '\\t') + val.substring(end)\n      }\n      if (start === end) {\n        this.selectionStart = end + count\n      } else {\n        this.selectionStart = start\n      }\n      this.selectionEnd = end + count\n    }\n  }\n})\n\n$('textarea').keyup(function() {\n  const textareaContents = $('textarea').val().trim()\n  $('#picked').val('')\n\n  $.ajax({\n    url: textareaContents,\n    type: 'GET',\n    dataType: 'json',\n    success: (data) => {\n      $('code').html(JSON.stringify(data, null, '\\t'))\n      hljs.highlightBlock($('code')[0])\n    },\n    error: () => {\n      // Send textarea code to highlight.js <code> container\n      console.log(`Sorry for spamming the crap out of your console! https://github.com/corysimmons/picky.json/issues/4`)\n      $('code').html($('textarea').val())\n      hljs.highlightBlock($('code')[0])\n    }\n  })\n})\n"]}