<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>picky.json | Dump JSON. Click value. Get selector.</title>
    <meta name="description" content="Manually parsing JSON to get the selector you want is human error prone and just not much fun. picky.json lets you input raw JSON (or a URL that returns JSON) and then click on a value to get the selector you need quickly and easily!">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/ico" href="assets/dist/img/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css">
    <link rel="stylesheet" href="assets/dist/css/style.css">
  </head>
  <body>

    <header>
      <h1>
        <a href="http://github.com/corysimmons/picky.json" target="_blank">
          <img src="assets/dist/img/magnifying-glass.svg">
          <span>picky.json</span>
        </a>
      </h1>
      <button class="btn-example">Load Example JSON</button>
    </header>

    <main>
      <textarea placeholder="Enter your valid JSON or JSON URL" wrap="off"></textarea>
      <div class="code-wrap">
        <div class="resize">
          <div class="holder"></div>
        </div>
        <div class="grab">

        </div>
        <pre><code class="json hljs"></code></pre>
        <div class="invalid-json">
          <p>
            JSON isn't valid. Picky won't work.
            Check out <a href="http://jsonlint.com/" target="_blank">jsonlint.com</a> to find out exactly what's wrong.
          </p>
        </div>
      </div>
    </main>

    <script id="main" type="text/ractive">
      {{#if data}}
        {<div>{{>recurse data}}</div>}
      {{/if}}
    </script>

    <script id="recurse" type="text/ractive">
      {{#each this}}
        <div class="parent">
          <span class="hljs-attr">
            {{#if @keypath.split('.')[@keypath.split('.').length -1] != @index}}
              "{{@key}}":
            {{/if}}
          </span>
          {{#if typeof this === 'object'}}
            {{#if Array.isArray(this)}}
              {{> array}}
            {{else}}
              {{> object}}
            {{/if}}
          {{else}}
            <span class="{{#if typeof this == 'string'}}hljs-string{{else}}hljs-number{{/if}} {{~/pickyIsSelected === @keypath ? 'is-selected' : ''}}" on-click="showPath:{{@keypath}}">
              {{#if typeof this == 'string'}}"{{this}}"{{else}}{{this}}{{/if}}{{#if pickyLengthCheck(@keypath, @index)}},{{/if}}
            </span>
          {{/if}}
        </div>
      {{/each}}
    </script>

    <script id="array" type="text/ractive">
      <span class="hljs-wrap{{~/pickyIsSelected === @keypath ? ' is-selected' : ''}}" on-click="showPath:{{@keypath}}">[</span>
        {{> recurse}}
      <span class="hljs-wrap{{~/pickyIsSelected === @keypath ? ' is-selected' : ''}}" on-click="showPath:{{@keypath}}">]</span>{{#if pickyLengthCheck(@keypath, @index)}},{{/if}}
    </script>

    <script id="object" type="text/ractive">
      <span class="hljs-wrap{{~/pickyIsSelected === @keypath ? ' is-selected' : ''}}" on-click="showPath:{{@keypath}}">{</span>
        {{> recurse}}
      <span class="hljs-wrap{{~/pickyIsSelected === @keypath ? ' is-selected' : ''}}" on-click="showPath:{{@keypath}}">}</span>{{#if pickyLengthCheck(@keypath, @index)}},{{/if}}
    </script>

    <script id="grab" type="text/ractive">
      <input id="picked" type="text" class="input" placeholder="Click a value from your JSON or search for it!" value="{{path}}" on-keyup="highlight:{{path}}"/>
      <button class="btn-clipboard" data-clipboard-target="#picked">Copy</button>
    </script>

    <div class="parse-field"></div>

    <script src="assets/dist/js/jquery.min.js"></script>
    <script src="assets/dist/js/ractive.js"></script>
    <script src="assets/dist/js/clipboard.js"></script>
    <script src="assets/dist/js/picky.js"></script>
    <script src="assets/dist/js/analytics.js"></script>
  </body>
</html>
