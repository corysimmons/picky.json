{{#if @key !== 'pickyCollapsed'}}

  {{#with this as context,
        Array.isArray(this) as isArray,
        ( Array.isArray(this) ? this.length : Object.keys(this).length ) as thisLength
  }}

    {{#each context}}
      <div class="parent">
        {{#if typeof this === 'object'}}
          {{#if Array.isArray(this)}}
            <span class="hljs-attr{{~/pickyIsSelected === @keypath ? ' is-selected' : ''}}" on-click="showPath:{{@keypath}}">"{{@key}}"</span>:
            {{> 'array'}}
          {{else}}
            {{> 'object'}}
          {{/if}}
        {{else}}
          {{> 'attr'}}
          <span class="{{#if typeof this == 'string'}}hljs-string{{else}}hljs-number{{/if}} {{~/pickyIsSelected === @keypath ? 'is-selected' : ''}}" on-click="showPath:{{@keypath}}">{{#if typeof this == 'string'}}"{{this}}"{{else}}{{this}}{{/if}}</span>{{#if @index < thisLength - 1 }},{{/if}}
        {{/if}}
      </div>
    {{/each}}

  {{/with}}

{{/if}}